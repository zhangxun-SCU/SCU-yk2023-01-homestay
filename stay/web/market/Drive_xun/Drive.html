<!doctype html>
<html>
<head>
<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="description" content="">
<meta name="keywords" content="">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<title>驾驶舱 张珣</title>
<link type="text/css" href="css/public.css" rel="stylesheet">
<link type="text/css" href="css/icon.css" rel="stylesheet">
<link type="text/css" href="css/index.css" rel="stylesheet">
<script type="text/javascript">
        document.documentElement.style.fontSize = document.documentElement.clientWidth /768*100 + 'px';
</script>

<script src="js/echarts.min.js"></script>
    <script src="../js/jquery.js" type="text/javascript"></script>
</head>
<style>
.abc{ 

}

</style>

<body>
<div class="bg">
	<div class="title">驾驶舱张珣</div>
    <div class="leftMain">
    	<div class="leftMain_top">
        	<div class="leftMain_topIn">
            	<ul>
                	<li>
                        <div class="liIn">
                            <h3>民宿消费</h3>
                            <p class="shu"><span class="shu1" id="a"></span><i>元</i></p>

                            <span class="border_bg_leftTop"></span>
                            <span class="border_bg_rightTop"></span>
                            <span class="border_bg_leftBottom"></span>
                            <span class="border_bg_rightBottom"></span>
                        </div>
                    </li>
                	<li>
                        <div class="liIn">
                            <h3>特产消费</h3>
                            <p class="shu"><span class="shu2" id="b"></span><i>元</i></p>

                            <span class="border_bg_leftTop"></span>
                            <span class="border_bg_rightTop"></span>
                            <span class="border_bg_leftBottom"></span>
                            <span class="border_bg_rightBottom"></span>
                        </div>
                    </li>
                	<li>
                        <div class="liIn" >
                            <h3>共计消费</h3>
                            <p class="shu"><span class="shu3" id="c"></span><i>元</i></p>

                            <span class="border_bg_leftTop"></span>
                            <span class="border_bg_rightTop"></span>
                            <span class="border_bg_leftBottom"></span>
                            <span class="border_bg_rightBottom"></span>
                        </div>
                    </li>
                	<li>
                    </li>
                </ul>
            </div>
        </div>
        <div class="leftMain_middle">
        	<div class="leftMain_middle_left">
            	<div class="leftMain_middle_leftIn">
                	<h3>时间段消费统计</h3>
                    <!-- 为ECharts准备一个具备大小（宽高）的Dom -->
                    <div class="biaoge" style="width:100%; height:25vh" id="chartmain"></div>
                    <script type="text/javascript">
                        var data2={"action":"xun"}
                        $.post('/getDriveData',data2,function (json){
                            //指定图表的配置项和数据
                            var dataAxis = json.time;
                            var data =json.t_cost;
                            var yMax = 500;
                            var dataShadow = [];
                            for (var i = 0; i < data.length; i++) {
                                dataShadow.push(yMax);
                            }
                            option = {
                                title: {
                                    text: '',
                                    subtext: ''
                                },
                                grid:{
                                    x:40,
                                    y:40,
                                    x2:20,
                                    y2:20,

                                },
                                xAxis: {
                                    data: dataAxis,
                                    axisLabel: {
                                        /*inside: true,*/
                                        interval:0,
                                        textStyle: {
                                            color: '#fff',
                                            fontSize: 12

                                        }
                                    },
                                    axisTick: {
                                        show: false,
                                    },
                                    axisLine: {
                                        show: true,
                                        symbol:['none', 'arrow'],
                                        symbolOffset: 12,
                                        lineStyle:{
                                            color: '#fff',
                                        }
                                    },
                                    z: 10
                                },
                                yAxis: {
                                    type: 'value',
                                    name: '单位：元',
                                    axisLine: {
                                        show: true,
                                        symbol: ['none', 'arrow'],
                                        symbolOffset: 12,
                                        lineStyle:{
                                            color: '#fff',
                                        }
                                    },
                                    axisTick: {
                                        show: false
                                    },
                                    axisLabel: {
                                        textStyle: {
                                            color: '#fff',
                                            fontSize: 12
                                        }
                                    }
                                },

                                dataZoom: [
                                    {
                                        type: 'inside'
                                    }
                                ],
                                series: [
                                    { // For shadow
                                        type: 'bar',
                                        itemStyle: {
                                            color: 'rgba(0,0,0,0.05)'
                                        },
                                        barGap: '-100%',
                                        barCategoryGap: '40%',
                                        data: dataShadow,
                                        animation: false
                                    },
                                    {
                                        type: 'bar',
                                        itemStyle: {
                                            color: new echarts.graphic.LinearGradient(
                                                0, 0, 0, 1,
                                                [
                                                    {offset: 0, color: '#0efdff'},
                                                    {offset: 0.5, color: '#188df0'},
                                                    {offset: 1, color: '#188df0'}
                                                ]
                                            )
                                        },
                                        emphasis: {
                                            itemStyle: {
                                                color: new echarts.graphic.LinearGradient(
                                                    0, 0, 0, 1,
                                                    [
                                                        {offset: 0, color: '#2378f7'},
                                                        {offset: 0.7, color: '#2378f7'},
                                                        {offset: 1, color: '#0efdff'}
                                                    ]
                                                )
                                            }
                                        },
                                        data: data
                                    }
                                ]
                            };
                            var myChart = echarts.init(document.getElementById('chartmain'));
                            myChart.setOption(option);
                        });

						//};
					</script>
                    <span class="border_bg_leftTop"></span>
                    <span class="border_bg_rightTop"></span>
                    <span class="border_bg_leftBottom"></span>
                    <span class="border_bg_rightBottom"></span>
                </div>
            </div>
        	<div class="leftMain_middle_right">
            	<div class="leftMain_middle_rightIn">
                	<h3>消费占比</h3>
                    <div class="biaoge biaoge_pai" style="width:100%; height:25vh">
                    	<div class="biaoge_paiIn">
                        	<ul>
                            	<li>
                                	<div class="liIn">
                                    	<div class="liIn_left"><span class="bot"></span><span class="zi">特产</span></div>
                                        <div class="liIn_line"><div class="line_lineIn" style="width:98.5%;"></div></div>
                                        <p class="num" id="d"></p>
                                    </div>
                                </li>
                             	<li>
                                	<div class="liIn liIn2">
                                    	<div class="liIn_left"><span class="bot"></span><span class="zi">民宿</span></div>
                                        <div class="liIn_line"><div class="line_lineIn" style="width:88.5%;"></div></div>
                                        <p class="num" id="e"></p>
                                    </div>
                                </li>


                           </ul>
                        </div>
                    </div>
                    <span class="border_bg_leftTop"></span>
                    <span class="border_bg_rightTop"></span>
                    <span class="border_bg_leftBottom"></span>
                    <span class="border_bg_rightBottom"></span>
                </div>
            </div>
        </div>
        <div class="leftMain_middle">
        	<div class="leftMain_middle_left">
            	<div class="leftMain_middle_leftIn">
                	<h3>下单商品数统计</h3>
                    <div class="biaoge" style="width:100%; height:25vh" id="chartmain_zhe"></div>
                    <script type="text/javascript">
					//window.onload = function (){
								//指定图表的配置项和数据
                    var data2={"action":"xun"}
                    $.post('/getDriveData',data2,function (json) {
                        option = {
                            title: {
                                text: ''
                            },
                            tooltip: {
                                trigger: 'axis'
                            },
                            legend: {
                                textStyle: {
                                    color: '#fff',
                                    fontSize: 12,
                                },
                                right: '10%',
                                data: ['民宿', '特产']
                            },
                            grid: {
                                x: 40,
                                y: 40,
                                x2: 20,
                                y2: 20,
                            },
                            toolbox: {
                                feature: {
                                    //saveAsImage: {}
                                }
                            },
                            xAxis: {
                                type: 'category',
                                boundaryGap: false,
                                axisLabel: {
                                    /*inside: true,*/
                                    interval: 0,
                                    textStyle: {
                                        color: '#fff',
                                        fontSize: 12

                                    }
                                },
                                axisTick: {
                                    show: false,
                                },
                                axisLine: {
                                    show: true,
                                    symbol: ['none', 'arrow'],
                                    symbolOffset: 12,
                                    lineStyle: {
                                        color: '#fff',
                                    }
                                },
                                data: json.time,
                            },
                            yAxis: {
                                type: 'value',

                                axisLine: {
                                    show: true,
                                    symbol: ['none', 'arrow'],
                                    symbolOffset: 12,
                                    lineStyle: {
                                        color: '#fff',
                                    }
                                },
                                axisTick: {
                                    show: false
                                },
                                axisLabel: {
                                    textStyle: {
                                        color: '#fff',
                                        fontSize: 12
                                    }
                                }
                            },
                            series: [
                                {
                                    name: '民宿',
                                    type: 'line',
                                    stack: '总量',
                                    data: json.h_num,
                                    itemStyle: {
                                        normal: {
                                            color: "#0efdff",//折线点的颜色
                                            lineStyle: {
                                                color: "#0efdff",//折线的颜色
                                                width: 2,
                                            }
                                        },
                                    }
                                },
                                {
                                    name: '特产',
                                    type: 'line',
                                    stack: '总量',
                                    data: json.s_num
                                },
                            ]
                        };
                        //获取dom容器
                        var myChart = echarts.init(document.getElementById('chartmain_zhe'));
                        // 使用刚指定的配置项和数据显示图表。
                        myChart.setOption(option);
                    });
					</script>
                    <span class="border_bg_leftTop"></span>
                    <span class="border_bg_rightTop"></span>
                    <span class="border_bg_leftBottom"></span>
                    <span class="border_bg_rightBottom"></span>
                </div>
            </div>
        	<div class="leftMain_middle_right">
            	<div class="leftMain_middle_rightIn">
                	<h3></h3>
                    <div class="biaoge biaoge_bi" style="width:100%; height:25vh">
                    	<ul>
                        	<li>
                            	<div class="liIn">
                                	<p class="shu shu1" id="a1"></p>
                                    <p class="zi">民宿订单数</p>
                                </div>
                            </li>
                        	<li>
                            	<div class="liIn">
                                	<p class="shu shu2" id="a2"></p>
                                    <p class="zi">特产订单数</p>
                                </div>
                            </li>
                        	<li>
                            	<div class="liIn">
                                	<p class="shu shu3" id="a3"></p>
                                    <p class="zi">共计订单数</p>
                                </div>
                            </li>
                        	<li>
                            	<div class="liIn">
                                	<p class="shu shu4" id="a4"></p>
                                    <p class="zi">民宿消费额</p>
                                </div>
                            </li>
                        	<li>
                            	<div class="liIn">
                                	<p class="shu shu5" id="a5"></p>
                                    <p class="zi">特产消费额</p>
                                </div>
                            </li>
                        	<li>
                            	<div class="liIn">
                                	<p class="shu shu6" id="a6"></p>
                                    <p class="zi">共计消费额</p>
                                </div>
                            </li>
                        </ul>
                    
                    </div>
                    <span class="border_bg_leftTop"></span>
                    <span class="border_bg_rightTop"></span>
                    <span class="border_bg_leftBottom"></span>
                    <span class="border_bg_rightBottom"></span>
                </div>
            </div>
        </div>
    </div>
    <div class="rightMain">

    </div>
    <div style="clear:both;"></div>
</div>
<!--数字增长累加动画-->
<script src="js/jquery-1.11.0.min.js" type="text/javascript"></script>
<script src="js/jquery.numscroll.js" type="text/javascript" charset="utf-8"></script>
<script type="text/javascript">
	$(".shu1").numScroll();
	$(".shu2").numScroll();
	$(".shu3").numScroll();
	$(".shu4").numScroll();
	$(".shu5").numScroll();
	$(".shu6").numScroll();

	/*$(".num2").numScroll({
		time:5000
	});*/

    var data={"action":"sun"}
    $.post('/getDriveData',data,function (json) {
        document.getElementById("a").innerText=json.cost_house;
        document.getElementById("b").innerText=json.cost_specialty;
        document.getElementById("c").innerText=json.cost_all;
        document.getElementById("d").innerText=(json.cost_specialty/json.cost_all*100).toFixed(2)+"%";
        document.getElementById("e").innerText=(json.cost_house/json.cost_all*100).toFixed(2)+"%";

        document.getElementById("a1").innerText=json.num_room_order;
        document.getElementById("a2").innerText=json.num_specialty_order;
        document.getElementById("a3").innerText=json.num_room_order+json.num_specialty_order;
        document.getElementById("a4").innerText=json.cost_house;
        document.getElementById("a5").innerText=json.cost_specialty;
        document.getElementById("a6").innerText=json.cost_house+json.cost_specialty;
    })
</script>

</body>
</html>
